<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- The HTML 4.01 Transitional DOCTYPE declaration-->
<!-- above set at the top of the file will set     -->
<!-- the browser's rendering engine into           -->
<!-- "Quirks Mode". Replacing this declaration     -->
<!-- with a "Standards Mode" doctype is supported, -->
<!-- but may lead to some differences in layout.   -->

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
     <style>
            h1{font-size: 20pt; font-synthesis: weight; color:magenta;}
            p1{font-size: 20pt; font-synthesis: weight; color:navy;}
            p{font-size: 13pt; font-synthesis: weight; color: navy;}
            a{font-size: 14pt; font-synthesis: weight; color:magenta;}
            body{background: ivory}
     </style>
    <title>miffy＜・×・＞</title>
    <script type="text/javascript" src="lib.js"></script>
        <script type="text/javascript">
        
        function callback(request){
            var json = eval(request.responseText);
            var res = '';
            
            var json1 = eval(request.responseText);
            var res1 = '';
            
            if (json.length == 1){　
                res += '<tr><td>ID</td><td>' + json[0].id +'</td></tr>';
                res += '<tr><td>イベント名</td><td>' + json[0].title +'</td></tr>';
                res += '<tr><td>日付</td><td>' + json[0].time + '</td></tr>';
                res += '<tr><td>幹事</td><td>' + json[0].name +'</td></tr>';
                res += '<tr><td>連絡先</td><td>' + json[0].url +'</td></tr>';
                res += '<tr><td>場所</td><td>' + json[0].place +'</td></tr>';
                res += '<tr><td>コメント</td><td>' + json[0].comment +'</td></tr>';
            } else {
                for (var i = 0;i < json.length;i++){
                    res += '<tr><td>' + json[i].time + '</td><td><a href="javascript:return false;" onclick="getData(' + json[i].id +');">' + json[i].id + '</a></td>';
                    res += '<td>' + json[i].title + '</td>' +
                    '<td><a href="edit.html?id=' + json[i].id + '">Edit</td>' +
                    '<td><a href="del.html?id=' + json[i].id + '">Delete</td>' + //</tr>' +
                    '<td><a href="join.html?id=' + json[i].id + '">参加する</td></tr>';
                }
            }
            
            for(var i = 0; i < json1.length; i++) {
         	   res1 += '<tr><td>' + json1[i].id + '</td><td>' + json1[i].title + '</td></tr>';
            }
            
            var obj = document.getElementById("datatable");
            var obj1 = document.getElementById("datatable1");
            obj1.innerHTML = res1;
            obj.innerHTML = res;
        }
        
        </script>
  </head>
  <body onload="getData(null);">
    <p1>＜・×・＞miffy＜・×・＞</p1><br>
    
    
    <p>イベント一覧</p>
     
    <table id="datatable" border="1">
      <tr>
        <td>AllEvent wait...</td>
      </tr>
    </table>
    
    <p>参加イベント一覧</p>
    
    <table id="datatable1" border="1">
  	  <tr>
  		  <td>JoinEvent wait...</td>
  	  </tr>
    </table>
    
 
    <br>
    <div><a href="add.html">イベントの新規追加</a></div>
    <div><a href="index.html">イベント一覧のページに戻る</a></div>
    <div><a href="logout">ログアウト</a></div>
    
  </body>
</html>